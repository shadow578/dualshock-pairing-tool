<!DOCTYPE html><html lang="en"><head><title>DualShock Pairing Tool</title><link rel="stylesheet" href="https://shadow578.github.io/dualshock-pairing-tool/index.c20b7345.css"><link rel="stylesheet" href="https://shadow578.github.io/dualshock-pairing-tool/index.a456e977.css"></head><body> <div> <h1 id="title">DualShock Pairing Tool</h1> <p id="tagline">A tool to view and change the paired bluetooth MAC address of a Sony DualShock controller </p> <div class="card" id="not_supported_container"> <h2>Not Supported</h2> <p> Sorry, your browser is not supported. <br> Please use a browser that supports <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebHID_API">WebHID</a>, such as the latest versions of Chrome or Edge. <noscript> <br> <strong>Note:</strong> JavaScript is disabled, but is required for this tool. </noscript> </p> </div> <div class="card" id="connect_container" style="display:none"> <h2>Connect Controller</h2> <p> First, connect your controller to your computer via USB cable. <br> Then, press the button below. <br> A dialog will appear asking for permission to connect to the controller. Select the controller from the list and confirm. </p> <button id="connect_button">Connect to Controller</button> </div> <div class="card" id="pair_container" style="display:none"> <h2>View and Change Bluetooth MAC Address</h2> <p> The controller is now connected. <br> You can now view and change the paired Bluetooth MAC address in the textbox below. <br> Use the buttons to read or write the MAC address to the controller. </p> <div id="mac_input_container"> <input type="text" id="mac_input" name="mac_input" style="border:0" placeholder="00:00:00:00:00:00"> <button id="get_paired_button" title="Read Bluetooth MAC Address from Controller">  <svg width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M160-160v-80h110l-16-14q-52-46-73-105t-21-119q0-111 66.5-197.5T400-790v84q-72 26-116 88.5T240-478q0 45 17 87.5t53 78.5l10 10v-98h80v240zm400-10v-84q72-26 116-88.5T720-482q0-45-17-87.5T650-648l-10-10v98h-80v-240h240v80H690l16 14q49 49 71.5 106.5T800-482q0 111-66.5 197.5T560-170"/></svg> </button> <button id="set_paired_button" title="Write Bluetooth MAC Address to Controller">  <svg width="24" height="24" fill="#5f6368" viewBox="0 -960 960 960"><path d="M120-160v-640l760 320zm80-120 474-200-474-200v140l240 60-240 60zm0 0v-400z"/></svg> </button> </div> </div> <div class="card" id="about_container"> <h2>About</h2> <p> DualShock Pairing Tool is based on <a href="https://github.com/shadow578/rs-sixaxispairer">rs-sixaxispairer</a> by shadow578, and by proxy, <a href="https://github.com/SveinIsdahl/PS4-controller-pairer/tree/master">PS4-controller-pairer</a> by SveinIsdahl. </p> <p> View the source code of this tool on <a href="https://github.com/shadow578/dualshock-pairing-tool">GitHub</a>. </p> </div> </div> <script type="module">class t{constructor(t){this._bytes=t}static fromString(e){let n=e.split(":");if(6!==n.length||n.some(t=>!/^[0-9a-fA-F]{1,2}$/.test(t)))throw Error("Invalid MAC address");return new t(new Uint8Array(n.map(t=>parseInt(t,16))))}toString(){return Array.from(this._bytes).map(t=>t.toString(16).padStart(2,"0")).join(":")}get bytes(){return this._bytes}}const e={"Sony DualShock 4":{vendorId:1356,productId:1476}};class n{async open(t){let n=Object.values(e);t&&n.push(t);let[o]=await navigator.hid.requestDevice({filters:n});if(!o)throw Error("No device found");await o.open(),this.device=o}async getPairedMac(){return new t(new Uint8Array((await this.device.receiveFeatureReport(18)).buffer,10,6).reverse())}async setPairedMac(t){let e=new Uint8Array(22);e.set(t.bytes.reverse(),0),await this.device.sendFeatureReport(19,e)}static isSupported(){return"hid"in navigator}}const o={success:{iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"/></svg>',backgroundColor:"darkgreen",color:"white"},error:{iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>',backgroundColor:"darkred",color:"white"}};class r{constructor(t){this.currentTimeout=null,t||(t=document.createElement("div"),document.body.appendChild(t)),t.classList.add("snackbar"),this.container=t,this.iconContainer=document.createElement("div"),this.text=document.createElement("span"),this.container.appendChild(this.iconContainer),this.container.appendChild(this.text)}show(t,e,n=3e3){let r=o[t];this.text.textContent=e,this.container.style.backgroundColor=r.backgroundColor,this.container.style.color=r.color,this.iconContainer.innerHTML=r.iconSvg,this.iconContainer.style.fill=r.color,this.iconContainer.style.stroke=r.color,this.container.classList.add("show"),this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=setTimeout(()=>this.container.classList.remove("show"),n)}}window.onload=()=>{let e={notSupportedContainer:document.getElementById("not_supported_container"),connectContainer:document.getElementById("connect_container"),pairContainer:document.getElementById("pair_container"),connectButton:document.getElementById("connect_button"),getPairedButton:document.getElementById("get_paired_button"),setPairedButton:document.getElementById("set_paired_button"),macInputContainer:document.getElementById("mac_input_container"),macTextInput:document.getElementById("mac_input")};for(let t in e)if(null===e[t])throw Error(`Page Element "${t}" is missing`);let o=new r,a=()=>{try{t.fromString(e.macTextInput.value),e.macInputContainer.classList.remove("mac_invalid")}catch(t){e.macInputContainer.classList.add("mac_invalid")}};function i(t){e.connectButton.disabled=t,e.getPairedButton.disabled=!t,e.setPairedButton.disabled=!t,e.macTextInput.disabled=!t,e.pairContainer.style.display=t?"block":"none"}e.macTextInput.onkeyup=a,e.macTextInput.onchange=a,n.isSupported()&&(e.notSupportedContainer.style.display="none",e.connectContainer.style.display="block"),i(!1);let s=new n;e.connectButton.onclick=async()=>{try{i(!1),e.connectButton.disabled=!0,await s.open(),i(!0),""===e.macTextInput.value&&e.getPairedButton.click(),o.show("success","Connected to controller")}catch(t){i(!1),o.show("error",t.message)}},e.getPairedButton.onclick=async()=>{try{e.getPairedButton.disabled=!0,e.setPairedButton.disabled=!0;let t=await s.getPairedMac();e.macTextInput.value=t.toString(),o.show("success","MAC address fetched successfully")}catch(t){o.show("error",t.message)}e.getPairedButton.disabled=!1,e.setPairedButton.disabled=!1},e.setPairedButton.onclick=async()=>{let n;try{n=t.fromString(e.macTextInput.value),e.macTextInput.value=n.toString()}catch(t){o.show("error",t.message);return}try{await s.setPairedMac(n),o.show("success","MAC address set successfully")}catch(t){o.show("error",t.message)}};let c=new URLSearchParams(window.location.search).get("mac");if(c)try{let n=t.fromString(c);e.macTextInput.value=n.toString()}catch(t){}};</script> </body></html>